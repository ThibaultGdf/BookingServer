# 13. Services et classes

- [x] Créer un fichier `services` dans le fichier `backend` et se déplacer à l'intérieur.

```bash
cd ..
```
```bash
mkdir services
```
```bash
cd services
```

<br>

- [x] Créer le fichier `room.service.js`.
```bash
touch room.service.js
```

<br>

- [x] Importer l'objet `Room` dans `room.services.js`.
```javascript
const { Room } = require("../config/db.js");
```

<br>

- [x] Créer la classe `RoomService` et son constructeur.
```javascript
class RoomService {
    constructor() {
    }
}
```

<br>

- [x] Importer `RoomService` dans le `room.controller.js` et supprimer l'import de `Room`.
```javascript
// AVANT
const { Room } = require("../config/db.js");
```
```javascript
// APRES
const RoomService = require("../services/room.service.js");
```

<br>

- [x] Définir son constructeur dans `room.service.js` avec les variables redondantes qu'on trouve dans le fichier `room.controller.js`.
```javascript
constructor(id, name) {
        this.id = id;
        this.name = name;
    }
```

- [x] Ajouter la logique dans le fichier `room.service.js`.

```javascript
const getAll = async function (_, res) {
    const roomService = new RoomService(null, null);
    try {

        // AVANT
        const rooms = await Room.findAll();

        // APRES
        const rooms = await roomService.getAllRooms();

        res.status(200).json({ rooms });
    } catch (error) {
        res.status(500).json({
            message: `Erreur serveur lors de la récupération des Rooms`,
        });
    }
};
```


